<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boids</title>
    <link data-trunk rel="tailwind-css" href="src/css/tailwind.css" />
  </head>
  <body class="h-screen flex items-center justify-center ">
    <div class="flex flex-col items-center">
      <canvas id="bevy_boids_canvas" class="rounded-lg w-[1000px] h-[1000] hidden"></canvas>
      <!-- Skeleton Placeholder -->
      <div id="loading-placeholder" class="rounded-lg w-[1000px] h-[600px] bg-gray-200 animate-pulse"></div>
    <button id="toggle-predator">Toggle Predator Mode</button>
  </div>

    
    <script type="module">
      (async () => {
        try {
          // Import your WASM module
          const initWasm = await import('./boids.js');
          
          // Initialize the WASM module
          await initWasm();
          
          const canvas = document.getElementById('bevy_boids_canvas');
          const loadingPlaceholder = document.getElementById('loading-placeholder');
          loadingPlaceholder.classList.add('hidden');
          canvas.classList.remove('hidden');
          console.log('WASM module loaded and initialized.');
        } catch (error) {
          console.error('Failed to load or initialize the WebAssembly module:', error);
          const canvas = document.getElementById('bevy_boids_canvas');
          const loadingPlaceholder = document.getElementById('loading-placeholder');
          loadingPlaceholder.classList.add('hidden');
          canvas.classList.remove('hidden');
          
        }
      })();
    </script>
  </body>
</html>
