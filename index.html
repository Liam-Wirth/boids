<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boids</title>
    <link data-trunk rel="tailwind-css" href="src/css/tailwind.css" />
  </head>
<body class="h-screen flex items-center justify-center bg-blue-500">
    <div class="flex flex-col items-center">
      <canvas id="bevy_boids_canvas" class="w-80 h-80 rounded-lg hidden"></canvas>
      <!-- Skeleton Placeholder -->
      <div id="loading-placeholder" class="skeleton w-80 h-80 rounded-lg"></div>


 <script type="module">
      (async () => {
        try {
          // Import your WASM module
          const initWasm = await import('./boids.js');
          
          // Initialize the WASM module
          await initWasm();

          // Replace the loading placeholder with the canvas
          const canvas = document.getElementById('bevy_boids_canvas');
          const loadingPlaceholder = document.getElementById('loading-placeholder');
          loadingPlaceholder.replaceWith(canvas);

          console.log('WASM module loaded and initialized.');
        } catch (error) {
          console.error('Failed to load or initialize the WebAssembly module:', error);
        }
      })();
    </script>
  </body>
</html>
